(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/payment/payment"],{1260:function(t,e,i){"use strict";i.r(e);var a=i("921e"),s=i("ee81");for(var n in s)"default"!==n&&function(t){i.d(e,t,(function(){return s[t]}))}(n);i("d816");var r,o=i("f0c5"),u=Object(o["a"])(s["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);e["default"]=u.exports},"921e":function(t,e,i){"use strict";var a={commodityList:function(){return i.e("components/commodityList/commodityList").then(i.bind(null,"f794"))}},s=function(){var t=this,e=t.$createElement;t._self._c},n=[];i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a}))},9486:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(i("d36f")),s=r(i("9679")),n=r(i("cf01"));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(){i.e("components/head/head").then(function(){return resolve(i("89bf"))}.bind(null,i)).catch(i.oe)},u=function(){i.e("components/commodityList/commodityList").then(function(){return resolve(i("f794"))}.bind(null,i)).catch(i.oe)},d={components:{HeadTtop:o,commodityList:u},data:function(){return{Title:"输入订单信息",backshow:!0,name:"",adrinfo:"请选择",pickerValueDefault:[0,0,0],provinceDataList:[],cityDataList:[],areaDataList:[],showPicker:!1,startTime:"",endTime:"",addressId:"",good_id:"",username:"",id_card:"",address:"",mobile:"",day_money:"",day_deposit:"",number:1,SpList:[],layerBoxFalse:!1}},onLoad:function(t){this.startTime=t.startTime,this.endTime=t.endTime,this.addressId=t.addressId,this.good_id=t.good_id,this.day_money=t.day_money,this.day_deposit=t.day_deposit,this.provinceDataList=a.default,this.cityDataList=s.default[this.pickerValueDefault[0]],this.areaDataList=n.default[this.pickerValueDefault[0]][this.pickerValueDefault[1]],this.pickerValue=this.pickerValueDefault,this.getdata()},methods:{addOrder:function(){var e=/^[1][3,4,5,7,8][0-9]{9}$/;if(""==this.username)return t.showToast({title:"请输入姓名",duration:1e3}),!1;if(!e.test(this.mobile))return t.showToast({title:"请输入正确手机号",duration:1e3}),!1;if(""===this.mobile)return t.showToast({title:"请输入手机号",icon:"success",mask:!0,duration:1e3}),!1;if("请选择"==this.adrinfo)return t.showToast({title:"请选择地区",duration:1e3}),!1;if(""==this.address)return t.showToast({title:"请输入详细地址",duration:1e3}),!1;if(0==this.number)return t.showToast({title:"请输入商品数量",duration:1e3}),!1;var i=this,a={good_id:this.good_id,username:this.username,store_id:this.addressId,id_card:this.id_card,start_time:this.startTime,end_time:this.endTime,areaname:this.adrinfo,address:this.address,mobile:this.mobile,num:this.number,_token:t.getStorageSync("userinfo")._token};this.$http.HttpRequst.request(!1,"order/addOrder",a,"POST",(function(e){200==e.code?t.navigateTo({url:"/pages/pay/pay?allday="+i.allday+"&allprice="+i.allprice+"&day_money="+i.day_money+"&day_deposit="+i.day_deposit+"&cover="+e.data.cover+"&goods_name="+e.data.good.goods_name+"&order_num="+e.data.order_num+"&order_id="+e.data.id+"&number="+i.number}):(t.showToast({title:e.msg,icon:"success",duration:800}),421==e.code&&(e.data.length>0&&(i.layerBoxFalse=!0),i.SpList=e.data))}))},layerBoxClick:function(){this.layerBoxFalse=!1},showPickerClick:function(){this.showPicker=!0},show:function(){var t=this;setTimeout((function(){t.showPicker=!0}),0)},maskClick:function(){this.pickerCancel()},pickerCancel:function(){this.showPicker=!1,this._$emit("onCancel")},pickerConfirm:function(t){this.showPicker=!1,this._$emit("onConfirm"),this.adrinfo=this.provinceDataList[this.pickerValue[0]].label+this.cityDataList[this.pickerValue[1]].label+this.areaDataList[this.pickerValue[2]].label},showPickerView:function(){this.showPicker=!0},handPickValueDefault:function(){this.pickerValueDefault!==[0,0,0]&&(this.pickerValueDefault[0]>a.default.length-1&&(this.pickerValueDefault[0]=a.default.length-1),this.pickerValueDefault[1]>s.default[this.pickerValueDefault[0]].length-1&&(this.pickerValueDefault[1]=s.default[this.pickerValueDefault[0]].length-1),this.pickerValueDefault[2]>n.default[this.pickerValueDefault[0]][this.pickerValueDefault[1]].length-1&&(this.pickerValueDefault[2]=n.default[this.pickerValueDefault[0]][this.pickerValueDefault[1]].length-1))},pickerChange:function(t){var e=t.mp.detail.value;this.pickerValue[0]!==e[0]?(this.cityDataList=s.default[e[0]],this.areaDataList=n.default[e[0]][0],e[1]=0,e[2]=0):this.pickerValue[1]!==e[1]&&(this.areaDataList=n.default[e[0]][e[1]],e[2]=0),this.pickerValue=e,this._$emit("onChange")},_$emit:function(t){var e={label:this._getLabel(),value:this.pickerValue,cityCode:this._getCityCode()};this.$emit(t,e)},_getLabel:function(){var t=this.provinceDataList[this.pickerValue[0]].label+"-"+this.cityDataList[this.pickerValue[1]].label+"-"+this.areaDataList[this.pickerValue[2]].label;return t},_getCityCode:function(){return this.areaDataList[this.pickerValue[2]].value},getdata:function(){var e=this,i={_token:t.getStorageSync("userinfo")._token};this.$http.HttpRequst.request(!1,"index/user_address",i,"POST",(function(t){200==t.code&&""!=t.data&&(e.address=t.data.address,e.id_card=t.data.id_card,e.mobile=t.data.mobile,e.username=t.data.username,e.adrinfo=t.data.areaname)}))}},computed:{allday:function(){var t=Date.parse(new Date(this.startTime)),e=Date.parse(new Date(this.endTime));return Math.floor((e-t)/864e5)},allprice:function(){return this.number*this.allday*Number(this.day_money)+Number(this.day_deposit*this.number)}}};e.default=d}).call(this,i("543d")["default"])},"9c5d":function(t,e,i){"use strict";(function(t){i("a2e3");a(i("66fd"));var e=a(i("1260"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},cc12:function(t,e,i){},d816:function(t,e,i){"use strict";var a=i("cc12"),s=i.n(a);s.a},ee81:function(t,e,i){"use strict";i.r(e);var a=i("9486"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=s.a}},[["9c5d","common/runtime","common/vendor"]]]);