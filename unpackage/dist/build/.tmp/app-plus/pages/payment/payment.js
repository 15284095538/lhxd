(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/payment/payment"],{1260:function(e,t,a){"use strict";a.r(t);var i=a("e238"),s=a("ee81");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);a("d816");var n=a("2877"),u=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,null,null);t["default"]=u.exports},"9c5d":function(e,t,a){"use strict";(function(e){a("a2e3"),a("921b");i(a("66fd"));var t=i(a("1260"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("6e42")["createPage"])},c9c3:function(e,t,a){},d6ca:function(e,t,a){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=u(a("d36f")),r=u(a("9679")),n=u(a("cf01"));function u(e){return e&&e.__esModule?e:{default:e}}var o=function(){return a.e("components/head/head").then(a.bind(null,"89bf"))},d={components:{HeadTtop:o},data:function(){return{Title:"输入订单信息",backshow:!0,name:"",adrinfo:"请选择",pickerValueDefault:[0,0,0],provinceDataList:[],cityDataList:[],areaDataList:[],showPicker:!1,startTime:"",endTime:"",addressId:"",good_id:"",username:"",id_card:"",address:"",mobile:"",day_money:"",day_deposit:"",number:1}},onLoad:function(e){this.startTime=e.startTime,this.endTime=e.endTime,this.addressId=e.addressId,this.good_id=e.good_id,this.day_money=e.day_money,this.day_deposit=e.day_deposit,this.provinceDataList=s.default,this.cityDataList=r.default[this.pickerValueDefault[0]],this.areaDataList=n.default[this.pickerValueDefault[0]][this.pickerValueDefault[1]],this.pickerValue=this.pickerValueDefault,this.getdata()},methods:{addOrder:function(){var t=/^[1][3,4,5,7,8][0-9]{9}$/;if(""==this.username)return e.showToast({title:"请输入姓名",duration:1e3}),!1;if(""==this.id_card)return e.showToast({title:"请输入身份证号",duration:1e3}),!1;if(18!=this.id_card.length)return e.showToast({title:"请输入正确身份证号码",icon:"success",mask:!0,duration:1e3}),!1;if(!t.test(this.mobile))return e.showToast({title:"请输入正确手机号",duration:1e3}),!1;if(""===this.mobile)return e.showToast({title:"请输入手机号",icon:"success",mask:!0,duration:1e3}),!1;if("请选择"==this.adrinfo)return e.showToast({title:"请选择地区",duration:1e3}),!1;if(""==this.address)return e.showToast({title:"请输入详细地址",duration:1e3}),!1;if(0==this.number)return e.showToast({title:"请输入商品数量",duration:1e3}),!1;var a=this,s={good_id:this.good_id,username:this.username,store_id:this.addressId,id_card:this.id_card,start_time:this.startTime,end_time:this.endTime,areaname:this.adrinfo,address:this.address,mobile:this.mobile,num:this.number,_token:e.getStorageSync("userinfo")._token};this.$http.HttpRequst.request(!0,"order/addOrder",s,"POST",function(t){200==t.code?e.navigateTo({url:"/pages/pay/pay?allday="+a.allday+"&allprice="+a.allprice+"&day_money="+a.day_money+"&day_deposit="+a.day_deposit+"&cover="+t.data.cover+"&goods_name="+t.data.good.goods_name+"&order_num="+t.data.order_num+"&order_id="+t.data.id+"&number="+a.number}):e.showToast({title:t.msg,icon:"success",duration:800})}),console.log(i(s," at pages\\payment\\payment.vue:215"))},showPickerClick:function(){this.showPicker=!0},show:function(){var e=this;setTimeout(function(){e.showPicker=!0},0)},maskClick:function(){this.pickerCancel()},pickerCancel:function(){this.showPicker=!1,this._$emit("onCancel")},pickerConfirm:function(e){this.showPicker=!1,this._$emit("onConfirm"),this.adrinfo=this.provinceDataList[this.pickerValue[0]].label+this.cityDataList[this.pickerValue[1]].label+this.areaDataList[this.pickerValue[2]].label},showPickerView:function(){this.showPicker=!0},handPickValueDefault:function(){this.pickerValueDefault!==[0,0,0]&&(this.pickerValueDefault[0]>s.default.length-1&&(this.pickerValueDefault[0]=s.default.length-1),this.pickerValueDefault[1]>r.default[this.pickerValueDefault[0]].length-1&&(this.pickerValueDefault[1]=r.default[this.pickerValueDefault[0]].length-1),this.pickerValueDefault[2]>n.default[this.pickerValueDefault[0]][this.pickerValueDefault[1]].length-1&&(this.pickerValueDefault[2]=n.default[this.pickerValueDefault[0]][this.pickerValueDefault[1]].length-1))},pickerChange:function(e){var t=e.mp.detail.value;this.pickerValue[0]!==t[0]?(this.cityDataList=r.default[t[0]],this.areaDataList=n.default[t[0]][0],t[1]=0,t[2]=0):this.pickerValue[1]!==t[1]&&(this.areaDataList=n.default[t[0]][t[1]],t[2]=0),this.pickerValue=t,this._$emit("onChange")},_$emit:function(e){var t={label:this._getLabel(),value:this.pickerValue,cityCode:this._getCityCode()};this.$emit(e,t)},_getLabel:function(){var e=this.provinceDataList[this.pickerValue[0]].label+"-"+this.cityDataList[this.pickerValue[1]].label+"-"+this.areaDataList[this.pickerValue[2]].label;return e},_getCityCode:function(){return this.areaDataList[this.pickerValue[2]].value},getdata:function(){var t=this,a={_token:e.getStorageSync("userinfo")._token};this.$http.HttpRequst.request(!1,"index/user_address",a,"POST",function(e){200==e.code&&""!=e.data&&(t.address=e.data.address,t.id_card=e.data.id_card,t.mobile=e.data.mobile,t.username=e.data.username,t.adrinfo=e.data.areaname)})}},computed:{allday:function(){var e=Date.parse(new Date(this.startTime)),t=Date.parse(new Date(this.endTime));return Math.floor((t-e)/864e5)},allprice:function(){return this.number*this.allday*Number(this.day_money)+Number(this.day_deposit*this.number)}}};t.default=d}).call(this,a("6e42")["default"],a("0de9")["default"])},d816:function(e,t,a){"use strict";var i=a("c9c3"),s=a.n(i);s.a},e238:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c},s=[];a.d(t,"a",function(){return i}),a.d(t,"b",function(){return s})},ee81:function(e,t,a){"use strict";a.r(t);var i=a("d6ca"),s=a.n(i);for(var r in i)"default"!==r&&function(e){a.d(t,e,function(){return i[e]})}(r);t["default"]=s.a}},[["9c5d","common/runtime","common/vendor"]]]);