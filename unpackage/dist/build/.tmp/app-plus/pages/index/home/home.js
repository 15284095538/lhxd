(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/home/home"],{"5c31":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("f794"));function n(t){return t&&t.__esModule?t:{default:t}}var o=1e4,s={components:{commodityList:a.default},data:function(){return{imglist:[],menuLink:[],SpList:[],onReachBottomshow:!0,page:1,cityList:[],cityName:""}},onLoad:function(){t.getStorage({key:"userinfo",fail:function(e){t.redirectTo({url:"/pages/login/login"})}})},onShow:function(){var e=this;e.page=1,e.onReachBottomshow=!0,e.cityName=t.getStorageSync("cityName"),t.getStorage({key:"location",success:function(t){e.getdata()},fail:function(e){t.redirectTo({url:"/pages/index/home/homecity"})}})},onReachBottom:function(){this.onReachBottomshow&&(this.page++,this.getdata())},methods:{getdata:function(){var e=this,i={page:this.page,long:t.getStorageSync("location").latitude+","+t.getStorageSync("location").longitude,_token:t.getStorageSync("userinfo")._token};this.$http.HttpRequst.request(!0,"index/index",i,"POST",function(i){if(1==e.page){if(e.imglist=i.data.img,e.menuLink=i.data.classify,"string"===typeof i.data.goods)return!1;e.SpList=i.data.goods;for(var a=0;a<e.SpList.length;a++)e.SpList[a].length>4&&(e.SpList[a].initial="".concat(e.SpList[a].initial/o,"万"));Number(t.getStorageSync("userinfo").balance)<2e3&&setTimeout(function(e){t.showToast({title:"余额不足,请充值",success:"none",duration:1e3})},500)}else"string"===typeof i.data.goods?e.onReachBottomshow=!1:e.SpList=e.SpList.concat(i.data.goods)})},ListClick:function(e,i){t.navigateTo({url:"/pages/index/list/list?id="+e+"&text="+i})},cityClick:function(){t.redirectTo({url:"/pages/index/home/homecity"})}}};e.default=s}).call(this,i("6e42")["default"])},6770:function(t,e,i){"use strict";i("a2e3");var a=o(i("b0ce")),n=o(i("70e6"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(n.default))},"70e6":function(t,e,i){"use strict";i.r(e);var a=i("dc75"),n=i("e97b");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("a5b7");var s=i("2877"),c=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=c.exports},a5b7:function(t,e,i){"use strict";var a=i("b98e"),n=i.n(a);n.a},b98e:function(t,e,i){},dc75:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"body"},[i("view",{staticClass:"swiper"},[i("swiper",{attrs:{"indicator-dots":"true","indicator-color":"rgba(255,255,255,0.3)","indicator-active-color":"rgba(255,255,255,0.8)",autoplay:"true",interval:"3000",circular:"true"}},t._l(t.imglist,function(t,e){return i("swiper-item",{key:e,staticClass:"item",attrs:{mpcomid:"2f4c68a4-0-"+e}},[i("image",{attrs:{src:t.img}})])})),i("view",{staticClass:"city",attrs:{eventid:"2f4c68a4-0"},on:{tap:function(e){t.cityClick()}}},[t._v(t._s(t.cityName))])],1),i("view",{staticClass:"menuLink"},t._l(t.menuLink,function(e,a){return i("view",{key:a,staticClass:"li",attrs:{eventid:"2f4c68a4-1-"+a},on:{tap:function(i){t.ListClick(e.id,e.title)}}},[i("view",{staticClass:"img"},[i("image",{attrs:{src:e.img_url,mode:""}})]),i("view",{staticClass:"text"},[t._v(t._s(e.title))])])})),t._m(0),i("commodityList",{attrs:{SpList:t.SpList,mpcomid:"2f4c68a4-1"}})],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"RecommendHot"},[i("view",{staticClass:"box"},[i("view",{staticClass:"text"},[t._v("热门推荐")]),i("view",{staticClass:"link"},[t._v("更多>")])])])}];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},e97b:function(t,e,i){"use strict";i.r(e);var a=i("5c31"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a}},[["6770","common/runtime","common/vendor"]]]);