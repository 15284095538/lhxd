(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/info/interests/interests"],{"0159":function(t,e,i){"use strict";i.r(e);var s=i("2e02"),n=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);e["default"]=n.a},"04af":function(t,e,i){"use strict";i("a2e3");var s=o(i("b0ce")),n=o(i("b375"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(n.default))},"2e02":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(i("89bf"));function n(t){return t&&t.__esModule?t:{default:t}}var o={components:{HeadTtop:s.default},data:function(){return{Title:"会员权益",backshow:!0,topsrc:"../../../static/images/back.png",price:5e3,userinfo:[],order_id:"",vipEquityList:[]}},onLoad:function(){this.userinfo=t.getStorageSync("userinfo"),2==this.userinfo.is_vip?this.price=5e3:this.price="",this.vipEquity()},methods:{getUserino:function(){var e={_token:t.getStorageSync("userinfo")._token};this.$http.HttpRequst.requestLogin(!0,"user/userInfo",e,"POST",function(e){200===e.code&&t.setStorage({key:"userinfo",data:e.data})})},vipEquity:function(){var e=this,i={_token:t.getStorageSync("userinfo")._token};this.$http.HttpRequst.requestLogin(!0,"user/vipEquity",i,"POST",function(t){200===t.code&&(e.vipEquityList=t.data)})},addOrder:function(){if(""==this.price)return t.showToast({title:"请输入充值金额",icon:"success",duration:1e3}),!1;var e=this,i={amount:this.price,_token:t.getStorageSync("userinfo")._token};e.$http.HttpRequst.request(!0,"order/addVipOrder",i,"POST",function(t){e.order_id=t.data.id,e.SureClick()})},SureClick:function(){var e=this,i={order_id:this.order_id,type:1,_token:t.getStorageSync("userinfo")._token};t.showActionSheet({itemList:["微信支付","支付宝支付"],success:function(s){0===s.tapIndex&&e.$http.HttpRequst.request(!0,"order/wxPay",i,"POST",function(i){t.requestPayment({provider:"wxpay",orderInfo:i.data,success:function(i){t.showToast({title:"支付成功",icon:"success",duration:1e3,success:function(){setTimeout(function(t){e.getUserino()},1e3)}})},fail:function(e){t.showToast({title:"支付取消",icon:"success",duration:1e3})}})}),1===s.tapIndex&&e.$http.HttpRequst.request(!0,"alipay/pay",i,"POST",function(i){t.requestPayment({provider:"alipay",orderInfo:i,success:function(i){t.showToast({title:"支付成功",icon:"success",duration:1e3,success:function(){setTimeout(function(t){e.getUserino()},1e3)}})},fail:function(e){t.showToast({title:"支付取消",icon:"success",duration:1e3})}})})}})}}};e.default=o}).call(this,i("649d")["default"])},"59fd":function(t,e,i){"use strict";var s=i("adf6"),n=i.n(s);n.a},"8c94":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("HeadTtop",{attrs:{Title:t.Title,topsrc:t.topsrc,backshow:t.backshow,mpcomid:"cc3382f4-0"}}),i("view",{staticClass:"balance"},[i("image",{attrs:{src:"../../../static/images/interests1.png",mode:""}}),i("view",{staticClass:"text"},[i("view",{staticClass:"price"},[t._v("￥"+t._s(t.userinfo.balance))]),i("view",{staticClass:"company"},[t._v("余额")])])]),i("view",{staticClass:"int"},[i("text",[t._v("充值金额：")]),i("view",{staticClass:"input"},[2==t.userinfo.is_vip?i("text",[t._v(t._s(t.price))]):t._e(),1==t.userinfo.is_vip?i("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],attrs:{type:"text",value:"",eventid:"cc3382f4-0"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}}):t._e(),t._v("元")])]),i("view",{staticClass:"equity"},[i("view",[t._v("会员权益：")]),i("scroll-view",{attrs:{"scroll-y":"true"}},[i("view",{staticClass:"txt",domProps:{innerHTML:t._s(t.vipEquityList)}})])],1),i("view",{staticClass:"ts"},[t._v("提示：预充值后升级为会员，可享受折扣和免押金，第一次充值必须充值5000元，之后可自定义充值。")]),i("view",{staticClass:"register",attrs:{eventid:"cc3382f4-1"},on:{tap:function(e){t.addOrder()}}},[i("image",{attrs:{src:"../../../static/images/interests2.png",mode:""}})])],1)},n=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})},adf6:function(t,e,i){},b375:function(t,e,i){"use strict";i.r(e);var s=i("8c94"),n=i("0159");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("59fd");var r=i("2877"),a=Object(r["a"])(n["default"],s["a"],s["b"],!1,null,null,null);e["default"]=a.exports}},[["04af","common/runtime","common/vendor"]]]);